/**
 * Make #navigator-toolbox float over page content in maximized window and fullscreen modes
 * Optimized version with hover trigger adjustment
 */

/* Disable native toggler that triggers JS listener */
#fullscr-toggler {
pointer-events: none;
}

/* Allow registering hover state over toolbars */
:root:not([sizemode="normal"]) :-moz-any(#TabsToolbar, #nav-bar, #PersonalToolbar) {
    -moz-window-dragging: no-drag !important;
}

/* Hide the bar and create a 1px hover trigger area */
:root:not([sizemode="normal"]):not([customizing]) #navigator-toolbox {
    margin-top: calc(-56px) !important; /* Hide the top bar */
    transition: margin-top 0.1s ease 0.05s !important;
    position: relative;
    z-index: 1;
    padding-bottom: 1px; /* Create the 1px hover area */
    background-color: rgba(255, 0, 0, 0.3); /* Temporary red background for testing */
}

/* Show the bar when the hover area is triggered */
:root:not([sizemode="normal"]):not([customizing]) #navigator-toolbox:hover {
    margin-top: 0 !important; /* Reveal the top bar */
    transition-delay: 0s !important;
}

/* Simplify #browser positioning */
:root:not([sizemode="normal"]):not([customizing]) #browser {
    position: fixed;
    z-index: 0;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
}

/* Remove unnecessary height adjustment for non-fullscreen mode */
:root:not([inFullscreen]) #browser {
    top: 0 !important;
    height: 100vh !important;
}
